<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Preview: Tabbed Layout</title>
    <link rel="stylesheet" href="./theme-technical.css">
    <style>
        /* Tab Styles Preview */
        .tabs-nav {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            overflow-x: auto;
            border-bottom: 2px solid #ddd;
            padding-bottom: 0;
        }

        .tab-btn {
            padding: 10px 20px;
            background: #f1f1f1;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            white-space: nowrap;
        }

        .tab-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Hide details marker for tabs since we use buttons */
        details.tab-section summary {
            display: none;
            /* Hide the summary header inside tabs if we want pure tab view, or keep it? */
        }

        /* Actually, let's keep the content but remove the card/details wrapper visual noise for inside tabs */
        .tab-content .card {
            box-shadow: none;
            border: none;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Header (Same as original) -->
        <header class="main-header glass">
            <div class="header-left">
                <div class="logo-section">
                    <h1>Anesthesia Record</h1>
                </div>
                <div class="time-display">
                    <span id="current-date">YYYY-MM-DD</span>
                    <span id="current-time-display">00:00:00</span>
                </div>
                <div class="anesthesia-timer">
                    <span class="timer-label">Anesthesia Time:</span>
                    <span id="timer-display" class="timer-value">00:00:00</span>
                    <div class="timer-controls">
                        <button class="btn-primary btn-sm">Start</button>
                        <button class="btn-danger btn-sm" disabled>End</button>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="actions">
                    <button class="btn-secondary">Export JSON</button>
                    <button class="btn-secondary">Export PDF</button>
                    <button class="btn-danger">Clear All</button>
                </div>
            </div>
        </header>

        <main class="dashboard">
            <!-- Tabs Navigation -->
            <div class="tabs-nav">
                <button class="tab-btn active" onclick="switchTab('patient')">個案資訊 Patient Info</button>
                <button class="tab-btn" onclick="switchTab('setup')">設定 Setup</button>
                <button class="tab-btn" onclick="switchTab('drug')">藥物 Drug</button>
                <button class="tab-btn" onclick="switchTab('epidural')">局部麻醉 Epidural</button>
                <button class="tab-btn" onclick="switchTab('fluid')">輸液 Fluid</button>
            </div>

            <!-- Tab Content -->
            <div id="patient" class="tab-content active">
                <div class="card glass">
                    <div class="card-content grid-form">
                        <h3>Patient Information</h3>
                        <p style="color:#666; margin-bottom:10px;">(Original "Patient Info" content goes here...)</p>
                        <div class="form-group">
                            <label>Pet Name</label>
                            <input type="text" placeholder="Enter Pet Name">
                        </div>
                        <div class="form-group">
                            <label>Species</label>
                            <select>
                                <option>Dog</option>
                                <option>Cat</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div id="setup" class="tab-content">
                <div class="card glass">
                    <div class="card-content">
                        <h3>Setup Checklist</h3>
                        <div class="checkbox-group">
                            <label><input type="checkbox"> Machine Check</label>
                            <label><input type="checkbox"> Airway Device</label>
                        </div>
                    </div>
                </div>
            </div>

            <div id="drug" class="tab-content">
                <div class="card glass">
                    <div class="card-content">
                        <h3>Drug Management</h3>
                        <table style="width:100%; border:1px solid #ddd; margin-top:10px;">
                            <thead>
                                <tr>
                                    <th>Drug</th>
                                    <th>Dose</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Propofol</td>
                                    <td>20mg</td>
                                    <td>10:00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="epidural" class="tab-content">
                <div class="card glass">
                    <div class="card-content">
                        <h3>Epidural / Block</h3>
                        <p>Epidural content...</p>
                    </div>
                </div>
            </div>

            <div id="fluid" class="tab-content">
                <div class="card glass">
                    <div class="card-content">
                        <h3>Fluid & CRI</h3>
                        <p>Fluid content...</p>
                    </div>
                </div>
            </div>

            <!-- Always Visible Bottom Section -->
            <hr style="margin: 20px 0; border:0; border-top:1px solid #ccc;">

            <div class="card glass monitoring-chart" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h2>生理數值監控 Monitoring Record (Always Visible)</h2>
                </div>
                <div class="card-content"
                    style="height: 300px; background: #f9f9f9; display:flex; align-items:center; justify-content:center;">
                    [Chart Placeholder]
                </div>
            </div>

            <div class="card glass procedure-note">
                <div class="card-header">
                    <h2>手術筆記 Procedure Note (Always Visible)</h2>
                </div>
                <div class="card-content">
                    <textarea placeholder="Enter notes here..." style="width:100%; height:100px;"></textarea>
                </div>
            </div>
        </main>
    </div>

    <script>
        function switchTab(tabId) {
            // Remove active from all buttons and contents
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            // Add active to selected
            // Find button by text or index? Logic simplified for preview
            event.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }
    </script>
</body>

</html>